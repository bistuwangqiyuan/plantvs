<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¤ç‰©å¤§æˆ˜åƒµå°¸ - è‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥å‘Š</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #2d5016;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
        
        .test-section {
            margin-bottom: 30px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            background: #f9f9f9;
        }
        
        .test-section h2 {
            color: #2d5016;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .test-item {
            padding: 12px 15px;
            margin: 8px 0;
            background: white;
            border-left: 4px solid #ccc;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .test-item.pass {
            border-left-color: #28a745;
            background: #f0fff4;
        }
        
        .test-item.fail {
            border-left-color: #dc3545;
            background: #fff0f0;
        }
        
        .test-item.pending {
            border-left-color: #ffc107;
            background: #fffef0;
        }
        
        .status {
            font-weight: bold;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .status.pass {
            background: #28a745;
            color: white;
        }
        
        .status.fail {
            background: #dc3545;
            color: white;
        }
        
        .status.pending {
            background: #ffc107;
            color: #333;
        }
        
        .summary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .summary h2 {
            margin-bottom: 15px;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin: 5px 0;
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        button {
            padding: 12px 30px;
            font-size: 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: #28a745;
            color: white;
        }
        
        .btn-primary:hover {
            background: #218838;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .btn-info {
            background: #17a2b8;
            color: white;
        }
        
        .btn-info:hover {
            background: #138496;
        }
        
        #progress-bar {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        #progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .instructions {
            background: #e7f3ff;
            border-left: 4px solid #0066cc;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .instructions h3 {
            color: #0066cc;
            margin-bottom: 10px;
        }
        
        .instructions ol {
            margin-left: 20px;
        }
        
        .instructions li {
            margin: 5px 0;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ» æ¤ç‰©å¤§æˆ˜åƒµå°¸ ğŸ§Ÿ</h1>
        <p class="subtitle">è‡ªåŠ¨åŒ–åŠŸèƒ½æµ‹è¯•æŠ¥å‘Š</p>
        
        <div class="instructions">
            <h3>ğŸ“‹ æµ‹è¯•è¯´æ˜</h3>
            <ol>
                <li>ç¡®ä¿ä½ å·²ç»åœ¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µæ‰“å¼€äº†æ¸¸æˆï¼š<a href="https://plantvs.netlify.app" target="_blank">https://plantvs.netlify.app</a></li>
                <li>ç‚¹å‡»ä¸‹æ–¹"å¼€å§‹æµ‹è¯•"æŒ‰é’®</li>
                <li>æŒ‰ç…§æç¤ºåœ¨æ¸¸æˆé¡µé¢ä¸­å®Œæˆå„é¡¹æ“ä½œ</li>
                <li>æµ‹è¯•å®ŒæˆåæŸ¥çœ‹è¯¦ç»†æŠ¥å‘Š</li>
            </ol>
        </div>
        
        <div class="summary">
            <h2>æµ‹è¯•è¿›åº¦</h2>
            <div id="progress-bar">
                <div id="progress-fill">0%</div>
            </div>
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-label">æ€»æµ‹è¯•é¡¹</div>
                    <div class="stat-number" id="total-tests">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">å·²é€šè¿‡</div>
                    <div class="stat-number" id="passed-tests">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">æœªé€šè¿‡</div>
                    <div class="stat-number" id="failed-tests">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">å¾…æµ‹è¯•</div>
                    <div class="stat-number" id="pending-tests">0</div>
                </div>
            </div>
        </div>
        
        <div class="button-group">
            <button class="btn-primary" onclick="startTest()">ğŸš€ å¼€å§‹æµ‹è¯•</button>
            <button class="btn-secondary" onclick="resetTest()">ğŸ”„ é‡ç½®æµ‹è¯•</button>
            <button class="btn-info" onclick="exportReport()">ğŸ“„ å¯¼å‡ºæŠ¥å‘Š</button>
        </div>
        
        <div id="test-results"></div>
    </div>
    
    <script>
        const testSuites = [
            {
                title: '1. é¡µé¢åŠ è½½æµ‹è¯•',
                icon: 'ğŸŒ',
                tests: [
                    { id: 'load-page', desc: 'è®¿é—®æ¸¸æˆç½‘å€', instruction: 'åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ https://plantvs.netlify.app' },
                    { id: 'load-screen', desc: 'æ˜¾ç¤ºåŠ è½½å±å¹•', instruction: 'ç¡®è®¤çœ‹åˆ°åŠ è½½åŠ¨ç”»å’Œè¿›åº¦æ¡' },
                    { id: 'load-time', desc: '5ç§’å†…å®ŒæˆåŠ è½½', instruction: 'é¡µé¢åœ¨5ç§’å†…å®Œå…¨åŠ è½½' },
                    { id: 'main-menu', desc: 'æ˜¾ç¤ºä¸»èœå•', instruction: 'ç¡®è®¤çœ‹åˆ°ä¸»èœå•å’Œ4ä¸ªæŒ‰é’®' }
                ]
            },
            {
                title: '2. ä¸»èœå•åŠŸèƒ½æµ‹è¯•',
                icon: 'ğŸ®',
                tests: [
                    { id: 'btn-start', desc: 'å¼€å§‹æ¸¸æˆæŒ‰é’®', instruction: 'ç‚¹å‡»"å¼€å§‹æ¸¸æˆ"è¿›å…¥å…³å¡é€‰æ‹©' },
                    { id: 'btn-rules', desc: 'æ¸¸æˆè§„åˆ™æŒ‰é’®', instruction: 'ç‚¹å‡»"æ¸¸æˆè§„åˆ™"æŸ¥çœ‹è§„åˆ™æ¨¡æ€æ¡†' },
                    { id: 'btn-almanac', desc: 'æ¤ç‰©å›¾é‰´æŒ‰é’®', instruction: 'ç‚¹å‡»"æ¤ç‰©å›¾é‰´"æŸ¥çœ‹5ç§æ¤ç‰©' },
                    { id: 'btn-reset', desc: 'é‡ç½®è¿›åº¦æŒ‰é’®', instruction: 'ç‚¹å‡»"é‡ç½®è¿›åº¦"æ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†' }
                ]
            },
            {
                title: '3. å…³å¡1æ ¸å¿ƒæ¸¸æˆæµ‹è¯•',
                icon: 'ğŸ¯',
                tests: [
                    { id: 'level1-start', desc: 'å¯åŠ¨å…³å¡1', instruction: 'ç‚¹å‡»å…³å¡1å¡ç‰‡è¿›å…¥æ¸¸æˆ' },
                    { id: 'ui-display', desc: 'UIå…ƒç´ æ˜¾ç¤º', instruction: 'ç¡®è®¤æ˜¾ç¤ºé˜³å…‰è®¡æ•°å™¨ã€æ³¢æ¬¡ã€æ¤ç‰©å¡ç‰‡ã€ç½‘æ ¼' },
                    { id: 'sun-drop', desc: 'å¤©ç©ºæ‰è½é˜³å…‰', instruction: 'ç­‰å¾…7ç§’ï¼Œç‚¹å‡»æ‰è½çš„é˜³å…‰' },
                    { id: 'sun-collect', desc: 'é˜³å…‰æ”¶é›†åŠ¨ç”»', instruction: 'ç¡®è®¤é˜³å…‰é£å‘å·¦ä¸Šè§’ï¼Œè®¡æ•°å™¨+25' },
                    { id: 'plant-sunflower', desc: 'ç§æ¤å‘æ—¥è‘µ', instruction: 'ç‚¹å‡»å‘æ—¥è‘µå¡ç‰‡ï¼Œå†ç‚¹å‡»ç½‘æ ¼ç§æ¤' },
                    { id: 'sunflower-produce', desc: 'å‘æ—¥è‘µç”Ÿäº§é˜³å…‰', instruction: 'ç­‰å¾…24ç§’ï¼Œç¡®è®¤å‘æ—¥è‘µç”Ÿäº§é˜³å…‰' },
                    { id: 'plant-peashooter', desc: 'ç§æ¤è±Œè±†å°„æ‰‹', instruction: 'æ”¶é›†100é˜³å…‰ï¼Œç§æ¤è±Œè±†å°„æ‰‹' },
                    { id: 'zombie-spawn', desc: 'åƒµå°¸ç”Ÿæˆ', instruction: 'ç­‰å¾…10ç§’ï¼Œç¡®è®¤ç¬¬ä¸€æ³¢åƒµå°¸å‡ºç°' },
                    { id: 'pea-shoot', desc: 'è±Œè±†å°„æ‰‹æ”»å‡»', instruction: 'ç¡®è®¤è±Œè±†å°„æ‰‹è‡ªåŠ¨å°„å‡»åƒµå°¸' },
                    { id: 'zombie-damage', desc: 'åƒµå°¸å—ä¼¤', instruction: 'ç¡®è®¤åƒµå°¸è¡€é‡å‡å°‘' },
                    { id: 'zombie-death', desc: 'åƒµå°¸æ­»äº¡', instruction: 'ç¡®è®¤åƒµå°¸è¡€é‡å½’é›¶åæ¶ˆå¤±' },
                    { id: 'victory', desc: 'èƒœåˆ©æ¡ä»¶', instruction: 'å‡»è´¥æ‰€æœ‰åƒµå°¸åæ˜¾ç¤ºèƒœåˆ©ç”»é¢' },
                    { id: 'defeat', desc: 'å¤±è´¥æ¡ä»¶', instruction: 'è®©åƒµå°¸åˆ°è¾¾å·¦è¾¹ç•Œæ˜¾ç¤ºå¤±è´¥ç”»é¢' }
                ]
            },
            {
                title: '4. æ§åˆ¶ä¸äº¤äº’æµ‹è¯•',
                icon: 'âŒ¨ï¸',
                tests: [
                    { id: 'key-space', desc: 'ç©ºæ ¼é”®æš‚åœ', instruction: 'æ¸¸æˆä¸­æŒ‰ç©ºæ ¼é”®æš‚åœæ¸¸æˆ' },
                    { id: 'key-esc', desc: 'ESCé”®èœå•', instruction: 'æŒ‰ESCé”®æ‰“å¼€æš‚åœèœå•' },
                    { id: 'key-r', desc: 'Ré”®é‡å¯', instruction: 'æš‚åœæ—¶æŒ‰Ré”®é‡æ–°å¼€å§‹å…³å¡' },
                    { id: 'pause-resume', desc: 'æš‚åœæ¢å¤åŠŸèƒ½', instruction: 'ç¡®è®¤æš‚åœåå¯ä»¥ç»§ç»­æ¸¸æˆ' }
                ]
            },
            {
                title: '5. å…³å¡2æµ‹è¯•',
                icon: 'ğŸ’£',
                tests: [
                    { id: 'level2-unlock', desc: 'å…³å¡2è§£é”', instruction: 'å®Œæˆå…³å¡1åå…³å¡2è§£é”' },
                    { id: 'cherry-bomb', desc: 'æ¨±æ¡ƒç‚¸å¼¹', instruction: 'ç§æ¤æ¨±æ¡ƒç‚¸å¼¹ï¼Œ1ç§’åçˆ†ç‚¸' },
                    { id: 'cone-zombie', desc: 'è·¯éšœåƒµå°¸', instruction: 'ç¡®è®¤å‡ºç°è¡€é‡æ›´é«˜çš„è·¯éšœåƒµå°¸' },
                    { id: 'level2-complete', desc: 'å®Œæˆå…³å¡2', instruction: 'å‡»è´¥æ‰€æœ‰4æ³¢åƒµå°¸' }
                ]
            },
            {
                title: '6. å…³å¡3æµ‹è¯•',
                icon: 'â„ï¸',
                tests: [
                    { id: 'level3-unlock', desc: 'å…³å¡3è§£é”', instruction: 'å®Œæˆå…³å¡2åå…³å¡3è§£é”' },
                    { id: 'snow-pea', desc: 'å¯’å†°å°„æ‰‹', instruction: 'ç§æ¤å¯’å†°å°„æ‰‹ï¼Œå°„å‡ºè“è‰²å¼¹ä¸¸' },
                    { id: 'slow-effect', desc: 'å‡é€Ÿæ•ˆæœ', instruction: 'ç¡®è®¤åƒµå°¸è¢«å‡é€Ÿ50%' },
                    { id: 'bucket-zombie', desc: 'é“æ¡¶åƒµå°¸', instruction: 'ç¡®è®¤å‡ºç°è¡€é‡1370çš„é“æ¡¶åƒµå°¸' },
                    { id: 'level3-complete', desc: 'å®Œæˆå…³å¡3', instruction: 'å‡»è´¥æ‰€æœ‰5æ³¢åƒµå°¸' }
                ]
            },
            {
                title: '7. è¿›åº¦ä¿å­˜æµ‹è¯•',
                icon: 'ğŸ’¾',
                tests: [
                    { id: 'save-progress', desc: 'è¿›åº¦è‡ªåŠ¨ä¿å­˜', instruction: 'å®Œæˆå…³å¡åè¿›åº¦è‡ªåŠ¨ä¿å­˜' },
                    { id: 'load-progress', desc: 'è¿›åº¦åŠ è½½', instruction: 'åˆ·æ–°é¡µé¢åè¿›åº¦ä¿æŒ' },
                    { id: 'reset-progress', desc: 'é‡ç½®è¿›åº¦', instruction: 'é‡ç½®ååªæœ‰å…³å¡1å¯ç”¨' }
                ]
            },
            {
                title: '8. ç§»åŠ¨ç«¯æµ‹è¯•',
                icon: 'ğŸ“±',
                tests: [
                    { id: 'mobile-layout', desc: 'ç«–å±å¸ƒå±€', instruction: 'æ‰‹æœºç«–å±è®¿é—®ï¼Œå¸ƒå±€æ­£å¸¸' },
                    { id: 'touch-control', desc: 'è§¦æ‘¸æ§åˆ¶', instruction: 'è§¦æ‘¸æ“ä½œå“åº”çµæ•' },
                    { id: 'landscape-warning', desc: 'æ¨ªå±è­¦å‘Š', instruction: 'æ¨ªå±æ—¶æ˜¾ç¤ºæç¤ºä¿¡æ¯' },
                    { id: 'button-size', desc: 'æŒ‰é’®å¤§å°', instruction: 'æ‰€æœ‰æŒ‰é’®â‰¥44x44åƒç´ ' }
                ]
            },
            {
                title: '9. æ€§èƒ½æµ‹è¯•',
                icon: 'âš¡',
                tests: [
                    { id: 'fps', desc: 'å¸§ç‡â‰¥30fps', instruction: 'F12æŸ¥çœ‹Performanceï¼Œç¡®è®¤å¸§ç‡ç¨³å®š' },
                    { id: 'memory', desc: 'å†…å­˜<100MB', instruction: 'æŸ¥çœ‹Memoryï¼Œç¡®è®¤å†…å­˜ä½¿ç”¨åˆç†' },
                    { id: 'load-speed', desc: 'åŠ è½½é€Ÿåº¦<5s', instruction: 'é¦–æ¬¡åŠ è½½æ—¶é—´å°äº5ç§’' }
                ]
            },
            {
                title: '10. æµè§ˆå™¨å…¼å®¹æ€§',
                icon: 'ğŸŒ',
                tests: [
                    { id: 'chrome', desc: 'Chromeæµè§ˆå™¨', instruction: 'åœ¨Chromeä¸­æ­£å¸¸è¿è¡Œ' },
                    { id: 'firefox', desc: 'Firefoxæµè§ˆå™¨', instruction: 'åœ¨Firefoxä¸­æ­£å¸¸è¿è¡Œ' },
                    { id: 'edge', desc: 'Edgeæµè§ˆå™¨', instruction: 'åœ¨Edgeä¸­æ­£å¸¸è¿è¡Œ' },
                    { id: 'safari', desc: 'Safariæµè§ˆå™¨', instruction: 'åœ¨Safariä¸­æ­£å¸¸è¿è¡Œï¼ˆå¦‚æœ‰ï¼‰' }
                ]
            }
        ];
        
        let currentTest = 0;
        let testResults = {};
        
        function initTests() {
            testResults = {};
            testSuites.forEach(suite => {
                suite.tests.forEach(test => {
                    testResults[test.id] = 'pending';
                });
            });
            updateStats();
            renderTests();
        }
        
        function renderTests() {
            const container = document.getElementById('test-results');
            container.innerHTML = '';
            
            testSuites.forEach(suite => {
                const section = document.createElement('div');
                section.className = 'test-section';
                
                const title = document.createElement('h2');
                title.innerHTML = `${suite.icon} ${suite.title}`;
                section.appendChild(title);
                
                suite.tests.forEach(test => {
                    const item = document.createElement('div');
                    item.className = `test-item ${testResults[test.id]}`;
                    item.id = `test-${test.id}`;
                    
                    const desc = document.createElement('div');
                    desc.innerHTML = `
                        <strong>${test.desc}</strong><br>
                        <small style="color: #666;">${test.instruction}</small>
                    `;
                    
                    const statusSpan = document.createElement('span');
                    statusSpan.className = `status ${testResults[test.id]}`;
                    statusSpan.textContent = testResults[test.id] === 'pass' ? 'âœ… é€šè¿‡' : 
                                           testResults[test.id] === 'fail' ? 'âŒ å¤±è´¥' : 'â³ å¾…æµ‹';
                    
                    const buttons = document.createElement('div');
                    buttons.innerHTML = `
                        <button onclick="markTest('${test.id}', 'pass')" style="padding: 5px 15px; margin: 0 5px; background: #28a745; color: white; border: none; border-radius: 3px; cursor: pointer;">âœ“ é€šè¿‡</button>
                        <button onclick="markTest('${test.id}', 'fail')" style="padding: 5px 15px; background: #dc3545; color: white; border: none; border-radius: 3px; cursor: pointer;">âœ— å¤±è´¥</button>
                    `;
                    
                    item.appendChild(desc);
                    item.appendChild(buttons);
                    item.appendChild(statusSpan);
                    
                    section.appendChild(item);
                });
                
                container.appendChild(section);
            });
        }
        
        function markTest(testId, status) {
            testResults[testId] = status;
            const item = document.getElementById(`test-${testId}`);
            item.className = `test-item ${status}`;
            const statusSpan = item.querySelector('.status');
            statusSpan.className = `status ${status}`;
            statusSpan.textContent = status === 'pass' ? 'âœ… é€šè¿‡' : 'âŒ å¤±è´¥';
            updateStats();
        }
        
        function updateStats() {
            const total = Object.keys(testResults).length;
            const passed = Object.values(testResults).filter(r => r === 'pass').length;
            const failed = Object.values(testResults).filter(r => r === 'fail').length;
            const pending = Object.values(testResults).filter(r => r === 'pending').length;
            
            document.getElementById('total-tests').textContent = total;
            document.getElementById('passed-tests').textContent = passed;
            document.getElementById('failed-tests').textContent = failed;
            document.getElementById('pending-tests').textContent = pending;
            
            const progress = total > 0 ? Math.round((passed + failed) / total * 100) : 0;
            document.getElementById('progress-fill').style.width = progress + '%';
            document.getElementById('progress-fill').textContent = progress + '%';
        }
        
        function startTest() {
            if (confirm('ç¡®è®¤ä½ å·²ç»åœ¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µæ‰“å¼€äº† https://plantvs.netlify.app å—ï¼Ÿ')) {
                alert('æµ‹è¯•å¼€å§‹ï¼\\n\\nè¯·æŒ‰ç…§æ¯ä¸ªæµ‹è¯•é¡¹çš„è¯´æ˜è¿›è¡Œæ“ä½œï¼Œå®Œæˆåç‚¹å‡»"é€šè¿‡"æˆ–"å¤±è´¥"æŒ‰é’®ã€‚');
            } else {
                window.open('https://plantvs.netlify.app', '_blank');
                alert('æ¸¸æˆé¡µé¢å·²æ‰“å¼€ï¼Œè¯·è¿”å›æ­¤é¡µé¢å¼€å§‹æµ‹è¯•ã€‚');
            }
        }
        
        function resetTest() {
            if (confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰æµ‹è¯•ç»“æœå—ï¼Ÿ')) {
                initTests();
            }
        }
        
        function exportReport() {
            const total = Object.keys(testResults).length;
            const passed = Object.values(testResults).filter(r => r === 'pass').length;
            const failed = Object.values(testResults).filter(r => r === 'fail').length;
            const pending = Object.values(testResults).filter(r => r === 'pending').length;
            
            let report = `æ¤ç‰©å¤§æˆ˜åƒµå°¸ - æµ‹è¯•æŠ¥å‘Š\\n`;
            report += `ç”Ÿæˆæ—¶é—´: ${new Date().toLocaleString('zh-CN')}\\n`;
            report += `æµ‹è¯•ç½‘å€: https://plantvs.netlify.app\\n\\n`;
            report += `=== æµ‹è¯•ç»Ÿè®¡ ===\\n`;
            report += `æ€»æµ‹è¯•é¡¹: ${total}\\n`;
            report += `é€šè¿‡: ${passed} (${Math.round(passed/total*100)}%)\\n`;
            report += `å¤±è´¥: ${failed} (${Math.round(failed/total*100)}%)\\n`;
            report += `å¾…æµ‹: ${pending} (${Math.round(pending/total*100)}%)\\n\\n`;
            
            testSuites.forEach(suite => {
                report += `\\n${suite.icon} ${suite.title}\\n`;
                report += `${'='.repeat(50)}\\n`;
                suite.tests.forEach(test => {
                    const status = testResults[test.id] === 'pass' ? 'âœ… é€šè¿‡' :
                                 testResults[test.id] === 'fail' ? 'âŒ å¤±è´¥' : 'â³ å¾…æµ‹';
                    report += `${status} ${test.desc}\\n`;
                });
            });
            
            const blob = new Blob([report], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `æµ‹è¯•æŠ¥å‘Š_${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);
        }
        
        // åˆå§‹åŒ–
        initTests();
    </script>
</body>
</html>

